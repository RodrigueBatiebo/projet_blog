{% load static %}
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ detail.nom }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <div class="container py-5">
        <!-- Carte article -->
        <div class="card shadow-lg">
            {% if detail.photo %}
            <img src="{{ detail.photo.url }}" class="card-img-top" alt="{{ detail.nom }}">
            {% else %}
            <img src="{% static 'images/defaut.jpeg' %}" class="card-img-top" alt="Image article">
            {% endif %}

            <div class="card-body">
                <!-- Titre -->
                <h2 class="card-title fw-bold">{{ detail.nom }}</h2>

                <!-- Auteur et date -->
                <p class="text-muted mb-3 d-flex align-items-center">
                    {% if detail.auteur.avatar %}
                    <img src="{{ detail.auteur.avatar.url }}" alt="Avatar auteur" class="rounded-circle me-2" width="40"
                        height="40">
                    {% else %}
                    <img src="{% static 'images/default-avatar.png' %}" alt="Avatar par défaut"
                        class="rounded-circle me-2" width="40" height="40">
                    {% endif %}
                    Par  <strong class="ms-2 me-2"> {{ detail.auteur.user.last_name }} {{ detail.auteur.user.first_name }}</strong> |
                    Publié le {{ detail.date_publication|date:"d/m/Y" }}
                </p>
                <hr>

                <!-- Description -->
                <h5 class="fw-semibold">Description</h5>
                <p class="card-text">{{ detail.description }}</p>

                <!-- Contenu -->
                <h5 class="fw-semibold mt-4">Contenu</h5>
                <p class="card-text">{{ detail.contenu|linebreaks }}</p>

                <!-- Bouton retour -->
                <a href="{% url 'articles' %}" class="btn btn-secondary mt-3">← Retour aux articles</a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>